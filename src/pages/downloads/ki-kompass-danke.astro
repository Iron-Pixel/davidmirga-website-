---
import BaseLayout from '../../layouts/BaseLayout.astro';
---

<BaseLayout 
  pageTitle="Vielen Dank" 
  description="Dein Download steht bereit."
  noIndex={true}
>

  <section class="min-h-screen py-12 bg-gradient-to-b from-brand-navy to-brand-navy/95 flex justify-center items-center">
    <div class="container max-w-2xl px-4 mx-auto">
      
      <div class="bg-white rounded-xl shadow-2xl p-8 md:p-12 text-center">
        
        <div class="w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg">
          <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path>
          </svg>
        </div>

        <h1 class="text-3xl md:text-4xl font-heading font-bold text-brand-navy mb-4">
          Vielen Dank!
        </h1>

        <p class="text-lg text-slate-600 mb-6 leading-relaxed">
          Dein KI-Kompass steht bereit.<br>
          Klicke auf den Button, der Download startet sofort.
        </p>

        <a 
          id="download-btn"
          href="https://drive.google.com/uc?export=download&id=1C_2a9TKJ_VG7VEIOg1VEWpEQkM5HYxa4"
          class="inline-flex items-center justify-center gap-2 px-8 py-4 bg-brand-red text-white font-bold rounded-lg hover:bg-red-700 transition-all shadow-md transform hover:scale-105 mb-2 w-full md:w-auto"
        >
          <svg id="icon-normal" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path>
          </svg>
          
          <svg id="icon-loading" class="animate-spin h-5 w-5 text-white hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
          </svg>

          <span id="btn-text">Download jetzt starten</span>
        </a>

        <p class="text-xs text-slate-400 mb-8 mt-2">
          (Es öffnet sich kein neues Fenster, Datei wird direkt geladen)
        </p>

        <div class="border-t border-slate-100 pt-8 mt-2">
          <p class="text-slate-600 mb-6 text-sm">
            Bleib dran für weitere KI-Tipps.
          </p>
          <div class="bg-brand-light rounded-lg p-6 border border-slate-100">
            <h3 class="text-lg font-heading font-bold text-brand-navy mb-2">
              ⚡ Vernetze dich mit mir
            </h3>
            <div class="flex justify-center">
              <a 
                href="https://linkedin.com/in/davidmirga" 
                target="_blank"
                class="inline-flex items-center justify-center gap-2 px-5 py-2 bg-[#0077b5] text-white font-bold rounded hover:bg-[#006396] transition-colors text-sm"
              >
                LinkedIn folgen
              </a>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <script is:inline>
    const btn = document.getElementById('download-btn');
    const iconNormal = document.getElementById('icon-normal');
    const iconLoading = document.getElementById('icon-loading');
    const btnText = document.getElementById('btn-text');

    if (btn) {
      btn.addEventListener('click', () => {
        // 1. Button-Text ändern
        btnText.innerText = "Download wird eingeleitet...";
        
        // 2. Icons tauschen (Pfeil weg, Spinner rein)
        iconNormal.classList.add('hidden');
        iconLoading.classList.remove('hidden');
        
        // 3. Button etwas blasser machen, damit man sieht, dass er geklickt wurde
        btn.classList.add('opacity-75', 'cursor-wait');
        
        // (Optional) Nach 5 Sekunden wieder normal machen, falls der Nutzer zurückkommt
        setTimeout(() => {
           btnText.innerText = "Download erneut starten";
           iconNormal.classList.remove('hidden');
           iconLoading.classList.add('hidden');
           btn.classList.remove('opacity-75', 'cursor-wait');
        }, 5000);
      });
    }
  </script>

</BaseLayout>